# Paper Scraper Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Application Settings
# =============================================================================
APP_NAME=PaperScraper
APP_ENV=development
DEBUG=true
API_V1_PREFIX=/api/v1

# =============================================================================
# Database Configuration (PostgreSQL + pgvector)
# =============================================================================
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/paperscraper
# For sync operations (alembic)
DATABASE_URL_SYNC=postgresql://postgres:postgres@localhost:5432/paperscraper

# =============================================================================
# Redis Configuration (for arq job queue + caching)
# =============================================================================
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# JWT Authentication
# =============================================================================
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=your-super-secret-key-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# Object Storage (MinIO / S3-compatible)
# =============================================================================
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minio
S3_SECRET_KEY=minio123
S3_BUCKET_NAME=paperscraper
S3_REGION=us-east-1

# =============================================================================
# LLM Configuration (Provider-agnostic)
# =============================================================================
LLM_PROVIDER=openai
LLM_MODEL=gpt-5-mini
LLM_EMBEDDING_MODEL=text-embedding-3-small
LLM_TEMPERATURE=0.3
LLM_MAX_TOKENS=4096

# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key
# OPENAI_ORG_ID=org-xxx

# Anthropic (optional)
# ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# Azure OpenAI (optional)
# AZURE_OPENAI_API_KEY=
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
# AZURE_OPENAI_API_VERSION=2024-02-15-preview
# AZURE_OPENAI_DEPLOYMENT=gpt-5-mini

# Ollama (optional, local/self-hosted)
# OLLAMA_BASE_URL=http://localhost:11434

# =============================================================================
# External Open APIs (Data Sources)
# =============================================================================
# OpenAlex - Primary paper/author metadata (free, no key required)
OPENALEX_EMAIL=your-email@example.com

# EPO OPS - Patent data (free tier: 4GB/week, requires registration)
# Register at: https://developers.epo.org/
# EPO_OPS_KEY=
# EPO_OPS_SECRET=

# arXiv - Preprints (free, no key required)
# Uses default: http://export.arxiv.org/api

# PubMed/NCBI (optional, API key increases rate limits)
# Register at: https://www.ncbi.nlm.nih.gov/account/
PUBMED_API_KEY=

# Crossref (free, polite pool with email)
CROSSREF_EMAIL=your-email@example.com

# Semantic Scholar (optional, API key for higher limits)
# Register at: https://www.semanticscholar.org/product/api
# SEMANTIC_SCHOLAR_API_KEY=

# =============================================================================
# Observability
# =============================================================================
# Langfuse (LLM monitoring)
LANGFUSE_PUBLIC_KEY=
LANGFUSE_SECRET_KEY=
LANGFUSE_HOST=https://cloud.langfuse.com

# Sentry (error tracking)
SENTRY_DSN=

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_SCORING_PER_MINUTE=10

# =============================================================================
# CORS Settings
# =============================================================================
CORS_ORIGINS=["http://localhost:3000","http://localhost:5173"]
